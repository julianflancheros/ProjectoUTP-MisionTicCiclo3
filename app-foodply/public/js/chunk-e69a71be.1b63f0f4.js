(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e69a71be"],{"0156":function(t,o,e){"use strict";e("44bd")},3530:function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("Header"),e("section",{staticClass:"logout_section"},[e("div",{staticClass:"box "},[e("div",{staticClass:"detalles__caja"},[e("a",{attrs:{href:""},on:{click:t.salir}},[t._v(" Salir ")])])])]),t._m(0),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6"},[t.editarProducto?e("form",{staticStyle:{"margin-top":"5vh"},on:{submit:function(o){return o.preventDefault(),t.editarProductos(t.productoEditar)}}},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productoEditar.nombre,expression:"productoEditar.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.productoEditar.nombre},on:{input:function(o){o.target.composing||t.$set(t.productoEditar,"nombre",o.target.value)}}}),t._v(" unidad de medida "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.productoEditar.descripcion,expression:"productoEditar.descripcion"}],staticStyle:{width:"73%"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.productoEditar,"descripcion",o.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Bolsa"}},[t._v("Bolsa")]),e("option",{attrs:{value:"Bulto"}},[t._v("Bulto")]),e("option",{attrs:{value:"Libra"}},[t._v("Libra")]),e("option",{attrs:{value:"Kilo"}},[t._v("Kilo")]),e("option",{attrs:{value:"Unidades"}},[t._v("Unidades")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productoEditar.cantidad,expression:"productoEditar.cantidad"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Cantidad"},domProps:{value:t.productoEditar.cantidad},on:{input:function(o){o.target.composing||t.$set(t.productoEditar,"cantidad",o.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productoEditar.precio,expression:"productoEditar.precio"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"$ Precio"},domProps:{value:t.productoEditar.precio},on:{input:function(o){o.target.composing||t.$set(t.productoEditar,"precio",o.target.value)}}}),t._v(" tipo de producto "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.productoEditar.tipoProducto,expression:"productoEditar.tipoProducto"}],staticStyle:{width:"75%"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.productoEditar,"tipoProducto",o.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Bebidas"}},[t._v("Bebidas")]),e("option",{attrs:{value:"Carnes"}},[t._v("Carnes")]),e("option",{attrs:{value:"Cereales"}},[t._v("Cereales")]),e("option",{attrs:{value:"Frutas"}},[t._v("Frutas")]),e("option",{attrs:{value:"Lácteos"}},[t._v("Lácteos")]),e("option",{attrs:{value:"Postre"}},[t._v("Postre")]),e("option",{attrs:{value:"Tuberculos"}},[t._v("Tuberculos")]),e("option",{attrs:{value:"Verduras"}},[t._v("Verduras")])]),e("b-button",{staticClass:"btn-warning my-2 mx-2",attrs:{type:"submit"}},[t._v("Editar")]),e("b-button",{staticClass:"my-2",attrs:{type:"submit"},on:{click:function(o){t.editar=!1}}},[t._v("Cancelar")])],1):t._e(),t.editarProducto?t._e():e("form",{staticStyle:{"margin-top":"5vh"},on:{submit:function(o){return o.preventDefault(),t.registrarProductos()}}},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.nombre,expression:"producto.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Producto"},domProps:{value:t.producto.nombre},on:{input:function(o){o.target.composing||t.$set(t.producto,"nombre",o.target.value)}}}),t._v(" unidad de medida "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.descripcion,expression:"producto.descripcion"}],staticStyle:{width:"73%"},attrs:{name:"TipoCarne",id:"TipoCarne",placeholder:"Producto"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.producto,"descripcion",o.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Bolsa"}},[t._v("Bolsa")]),e("option",{attrs:{value:"Bulto"}},[t._v("Bulto")]),e("option",{attrs:{value:"Libra"}},[t._v("Libra")]),e("option",{attrs:{value:"Kilo"}},[t._v("Kilo")]),e("option",{attrs:{value:"Unidades"}},[t._v("Unidades")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.cantidad,expression:"producto.cantidad"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Cantidad"},domProps:{value:t.producto.cantidad},on:{input:function(o){o.target.composing||t.$set(t.producto,"cantidad",o.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.precio,expression:"producto.precio"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"$ Precio"},domProps:{value:t.producto.precio},on:{input:function(o){o.target.composing||t.$set(t.producto,"precio",o.target.value)}}}),t._v(" tipo de producto "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.tipoProducto,expression:"producto.tipoProducto"}],staticStyle:{width:"75%"},attrs:{name:"TipoCarne",id:"TipoCarne",placeholder:"Producto"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.producto,"tipoProducto",o.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Bebidas"}},[t._v("Bebidas")]),e("option",{attrs:{value:"Carnes"}},[t._v("Carnes")]),e("option",{attrs:{value:"Cereales"}},[t._v("Cereales")]),e("option",{attrs:{value:"Frutas"}},[t._v("Frutas")]),e("option",{attrs:{value:"Lácteos"}},[t._v("Lácteos")]),e("option",{attrs:{value:"Postre"}},[t._v("Postre")]),e("option",{attrs:{value:"Tuberculos"}},[t._v("Tuberculos")]),e("option",{attrs:{value:"Verduras"}},[t._v("Verduras")])]),e("b-button",{staticClass:"btn-success my-2 btn-block",attrs:{type:"submit"}},[t._v("Agregar")])],1)]),t._m(3)])]),e("div",{staticClass:"container layout_padding2-bottom"},[e("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(o){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")]),e("table",{staticClass:"table",staticStyle:{"text-align":"center"}},[t._m(4),e("tbody",t._l(t.productos,(function(o,r){return e("tr",{key:r},[e("td",[t._v(t._s(o.nombre))]),e("td",[t._v(t._s(o.descripcion))]),e("td",[t._v(t._s(o.cantidad))]),e("td",[t._v("$"+t._s(o.precio))]),e("td",[t._v(t._s(o.tipoProducto))]),e("td",[e("b-button",{staticClass:"btn-danger btn-sm mx-2",on:{click:function(e){return t.eliminarProducto(o._id)}}},[t._v("Eliminar")]),e("b-button",{staticClass:"btn-warning btn-sm",on:{click:function(e){return t.activarEdicionProducto(o._id)}}},[t._v("Editar")])],1)])})),0)])],1),e("Footer")],1)},a=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"heading_container heading_center layout_padding2"},[e("h2",[t._v("Página administrador")])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"heading_container  heading_center",staticStyle:{"margin-top":"10vh","font-family":"var(--titlesFont)"}},[e("h3",[t._v("Editar producto")])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"heading_container  heading_center",staticStyle:{"margin-top":"10vh","font-family":"var(--titlesFont)"}},[e("h3",[t._v("Agregar un nuevo producto")])])},function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{staticClass:"col-12 col-md-6"},[r("img",{staticStyle:{width:"100%","margin-bottom":"5vh"},attrs:{src:e("bc25"),alt:""}})])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Producto")]),e("th",{attrs:{scope:"col"}},[t._v("Descripción")]),e("th",{attrs:{scope:"col"}},[t._v("Cantidad")]),e("th",{attrs:{scope:"col"}},[t._v("Precio")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo de producto")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])}],n=e("5530"),i=(e("b0c0"),e("c740"),e("a434"),e("0418")),s=e("fd2d"),c=e("2f62"),d={components:{Header:i["a"],Footer:s["a"]},data:function(){return{mensaje:{color:"success",texto:""},dismissSecs:5,dismissCountDown:0,productos:[],producto:{nombre:"",descripcion:"",cantidad:"",precio:"",tipoProducto:""},editarProducto:!1,productoEditar:{},itemsEstadoV:["No vacunado","Primera dosís","Segunda dosís","Con Covid","Vacunado"]}},computed:Object(n["a"])(Object(n["a"])({},Object(c["e"])(["token"])),Object(c["c"])(["estaActivo"])),methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(c["d"])(["obtenerUsuario"])),Object(c["b"])(["guardarUsuario","leerToken","cerrarSesion"])),{},{alerta:function(){this.mensaje.color="danger",this.mensaje.texto="Probando alerta",this.showAlert()},listarProductos:function(){var t=this;this.axios.get("/producto/producto").then((function(o){console.log(o.data),t.productos=o.data})).catch((function(t){console.log(t.response)}))},registrarProductos:function(){var t=this,o={headers:{token:this.token}};this.axios.post("/producto/nuevo-producto",this.producto,o).then((function(o){t.productos.push(o.data),t.producto.nombre="",t.producto.descripcion="",t.producto.cantidad="",t.producto.precio="",t.producto.tipoCarne="",t.mensaje.color="success",t.mensaje.texto="Registro exitoso",t.showAlert()})).catch((function(o){console.log(o.response),o.response.data.error.errors.nombre.message?t.mensaje.texto=o.response.data.error.errors.name.message:t.mensaje.texto="Error del sistema",t.mensaje.color="danger",t.showAlert()}))},eliminarProducto:function(t){var o=this,e={headers:{token:this.token}};this.axios.delete("producto/producto/".concat(t),e).then((function(t){var e=o.productos.findIndex((function(o){return o._id===t.data._id}));o.productos.splice(e,1),o.mensaje.color="danger",o.mensaje.texto="Producto Eliminado!",o.showAlert()})).catch((function(t){console.log(t.response)}))},activarEdicionProducto:function(t){var o=this;this.editarProducto=!0,this.axios.get("producto/producto/".concat(t)).then((function(t){o.productoEditar=t.data})).catch((function(t){console.log(t.response)}))},editarProductos:function(t){var o=this;console.log(t);var e={headers:{token:this.token}};this.axios.put("producto/producto/".concat(t._id),t,e).then((function(t){var e=o.productos.findIndex((function(o){return o._id===t.data._id}));o.productos[e].nombre=t.data.nombre,o.productos[e].descripcion=t.data.descripcion,o.productos[e].precio=t.data.precio,o.productos[e].tipoCarne=t.data.tipoCarne,o.mensaje.color="success",o.mensaje.texto="Producto Editado",o.showAlert(),o.editarProducto=!1})).catch((function(t){console.log(t.response)}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},salir:function(){localStorage.removeItem("token"),this.$router.push({name:"Home"})}}),created:function(){this.listarProductos()}},u=d,l=(e("0156"),e("2877")),p=Object(l["a"])(u,r,a,!1,null,null,null);o["default"]=p.exports},"44bd":function(t,o,e){},a434:function(t,o,e){"use strict";var r=e("23e7"),a=e("23cb"),n=e("a691"),i=e("50c4"),s=e("7b0b"),c=e("65f0"),d=e("8418"),u=e("1dde"),l=u("splice"),p=Math.max,v=Math.min,m=9007199254740991,f="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l},{splice:function(t,o){var e,r,u,l,h,_,b=s(this),g=i(b.length),C=a(t,g),y=arguments.length;if(0===y?e=r=0:1===y?(e=0,r=g-C):(e=y-2,r=v(p(n(o),0),g-C)),g+e-r>m)throw TypeError(f);for(u=c(b,r),l=0;l<r;l++)h=C+l,h in b&&d(u,l,b[h]);if(u.length=r,e<r){for(l=C;l<g-r;l++)h=l+r,_=l+e,h in b?b[_]=b[h]:delete b[_];for(l=g;l>g-r+e;l--)delete b[l-1]}else if(e>r)for(l=g-r;l>C;l--)h=l+r-1,_=l+e-1,h in b?b[_]=b[h]:delete b[_];for(l=0;l<e;l++)b[l+C]=arguments[l+2];return b.length=g-r+e,u}})},b0c0:function(t,o,e){var r=e("83ab"),a=e("5e77").EXISTS,n=e("9bf2").f,i=Function.prototype,s=i.toString,c=/^\s*function ([^ (]*)/,d="name";r&&!a&&n(i,d,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(t){return""}}})},bc25:function(t,o,e){t.exports=e.p+"img/about.6e4e3eb9.jpg"},c740:function(t,o,e){"use strict";var r=e("23e7"),a=e("b727").findIndex,n=e("44d2"),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(i)}}]);
//# sourceMappingURL=chunk-e69a71be.1b63f0f4.js.map